prefix: "my-dashbase"
#version: 1.0.0-rc5 # defaults to latest
zookeeper_url: localhost:2181 # url to zookeeper, when specified, ${ZOOKEEPER_URL} is exported when starting all services

services:
  _system:
    type: monitor
    # optional config parameter for custom system monitor config. Default will be installed to ~/.dashbase/conf/system_config.yml
    defaults:
      host: host1
      port: 9888 # exported as PORT=9888
      admin_port: 9988 # exported as ADMINPORT=9988
      heap_opts: "-Xmx4g -Xms2g -XX:NewSize=1g"
    partitions:
      0: # use defaults

  json:
    type: table
    config: dashbase-tables/json/conf/env-config.yml
    defaults:  # required for default behavior, overridden when specified per partition
      host: host2
      port: 7888
      admin_port: 7988
      heap_opts: "-Xmx4g -Xms2g -XX:NewSize=1g"  # optional, but recommend changing since default is "-Xmx1g -Xms1g -XX:NewSize=512m"
    env:
      MONITOR_URL: <monitor_hostname:port>
    partitions:
      0:  # use defaults
        env:
          MONITOR_URL: <monitor_hostname:port> # override higher level env

#  auth:
#    type: auth
#    host: host1
#    port: 9677
#    admin_port: 9777
#    config: dashbase-auth/conf/env-config.yml
#    env:
#      WEB_URL: <dashbase-web-service-host:port> # i.e. http://x.x.x.x:8080

  web:
    type: web
    host: host2
    port: 8080
    admin_port: 8180
    heap_opts: "-Xmx1g -Xms1g -XX:NewSize=512m"  # optional, default is "-Xmx1g -Xms1g -XX:NewSize=512m"
    config: dashbase-web/conf/env-config.yml
    env:
      API_HOST: <api_hostname> # should match api host hostname
      API_PORT: 9876 # should match api port

  api:
    type: api
    host: host1
    port: 9876
    admin_port: 9976
    heap_opts: "-Xmx1g -Xms1g -XX:NewSize=512m"
    config: dashbase-api/conf/env-config.yml
    env:
      MONITOR_URL: <monitor_hostname:port>

hosts:
  host1:
    hostname: <address> # e.g. x.x.x.x or http://someserver.com
    username: <username>
    private_key: </path/to/key>
  host2:
    hostname: <address>
    username: <username>
    private_key: </path/to/key>
